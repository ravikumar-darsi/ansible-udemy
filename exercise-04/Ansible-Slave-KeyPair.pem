ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ vim web-db.yaml
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ ls
Ansible-Slave-KeyPair.pem  inventory  web-db.yaml
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ cat web-db.yaml
---
- name: WebServer-Setup
  hosts: webservers
  become: yes
  tasks:
    - name: Install Httpd
      ansible.builtin.yum:
        name: httpd
        state: present

    - name: Starte the Httpd Service
      ansible.builtin.service:
        name: httpd
        state: started
        enabled: yes

- name: DBServers-Setup
  hosts: dbservers
  become: yes
  tasks:
    - name: Install mariadb-server
      ansible.builtin.yum:
        name: mariadb-server
        state: present
    - name: Start the mariaDB-server
      ansible.builtin.service:
        name: mariadb
        state: started
        enabled: yes
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ ansible-playbook -i inventory web-db.yaml

PLAY [WebServer-Setup] *****************************************************************

TASK [Gathering Facts] *****************************************************************
ok: [web02]
ok: [web01]

TASK [Install Httpd] *******************************************************************
ok: [web02]
ok: [web01]

TASK [Starte the Httpd Service] ********************************************************
ok: [web02]
ok: [web01]

PLAY [DBServers-Setup] *****************************************************************

TASK [Gathering Facts] *****************************************************************
ok: [db01]

TASK [Install mariadb-server] **********************************************************
ok: [db01]

TASK [Start the mariaDB-server] ********************************************************
changed: [db01]

PLAY RECAP *****************************************************************************
db01                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
web02                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ ansible-playbook -i inventory web-db.yaml -v
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ ansible-playbook -i inventory web-db.yaml --syntax-check

playbook: web-db.yaml
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-05$ ansible-playbook -i inventory web-db.yaml -C

[The above command used for DRY RUN the playbook]


Heart of the Modules

https://docs.ansible.com/ansible/latest/collections/index_module.html

https://docs.ansible.com/ansible/9/collections/ansible/builtin/yum_module.html

https://docs.ansible.com/ansible/2.9/modules/modules_by_category.html