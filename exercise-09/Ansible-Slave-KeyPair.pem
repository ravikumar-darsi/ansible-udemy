ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ rm -rf db.yaml group_vars/
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ls
Ansible-Slave-KeyPair.pem  ansible.cfg  inventory
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim var_precedence.yaml

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ cat var_precedence.yaml
---
- name: Understanding the vars
  hosts: all
  become: yes
  vars:
    USRNM: playuser
    COMM: variable from playbook
  tasks:
    - name: create a user
      ansible.builtin.user:
        name: "{{USRNM}}"
        comment: "{{COMM}}"

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim var_precedence.yaml
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ cat var_precedence.yaml
---
- name: Understanding the vars
  hosts: all
  become: yes
  vars:
    USRNM: playuser
    COMM: variable from playbook
  tasks:
    - name: create a user
      ansible.builtin.user:
        name: "{{USRNM}}"
        comment: "{{COMM}}"
      register: useroutput

    - name: print the user
      debug:
        var: useroutput
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim var_precedence.yaml

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ cat var_precedence.yaml
---
- name: Understanding the vars
  hosts: all
  become: yes
  vars:
    USRNM: playuser
    COMM: variable from playbook
  tasks:
    - name: create a user
      ansible.builtin.user:
        name: "{{USRNM}}"
        comment: "{{COMM}}"
      register: useroutput

    - name: print the user
      debug:
        var: useroutput

    - name: print the user name only
      debug:
        var: useroutput.name
    - name: print the comment
      debug:
        var: useroutput.comment

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ mkdir group_vars
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim group_vars/all

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml


ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim group_vars/webservers
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ cat group_vars/webservers
USRNM: webgroup
COMM: variable from group_vars/webservers file
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml

PLAY [Understanding the vars] **********************************************************

TASK [Gathering Facts] *****************************************************************
ok: [web02]
ok: [db01]
ok: [web01]

TASK [create a user] *******************************************************************
ok: [db01]
changed: [web01]
changed: [web02]

TASK [print the user] ******************************************************************
ok: [web01] => {
    "useroutput": {
        "changed": true,
        "comment": "variable from group_vars/webservers file",
        "create_home": true,
        "failed": false,
        "group": 1003,
        "home": "/home/webgroup",
        "name": "webgroup",
        "shell": "/bin/bash",
        "state": "present",
        "system": false,
        "uid": 1003
    }
}
ok: [web02] => {
    "useroutput": {
        "changed": true,
        "comment": "variable from group_vars/webservers file",
        "create_home": true,
        "failed": false,
        "group": 1003,
        "home": "/home/webgroup",
        "name": "webgroup",
        "shell": "/bin/bash",
        "state": "present",
        "system": false,
        "uid": 1003
    }
}
ok: [db01] => {
    "useroutput": {
        "append": false,
        "changed": false,
        "comment": "variable from groupvars_all file",
        "failed": false,
        "group": 1002,
        "home": "/home/commonuser",
        "move_home": false,
        "name": "commonuser",
        "shell": "/bin/bash",
        "state": "present",
        "uid": 1002
    }
}

TASK [print the user name only] ********************************************************
ok: [web01] => {
    "useroutput.name": "webgroup"
}
ok: [web02] => {
    "useroutput.name": "webgroup"
}
ok: [db01] => {
    "useroutput.name": "commonuser"
}

TASK [print the comment] ***************************************************************
ok: [web01] => {
    "useroutput.comment": "variable from group_vars/webservers file"
}
ok: [web02] => {
    "useroutput.comment": "variable from group_vars/webservers file"
}
ok: [db01] => {
    "useroutput.comment": "variable from groupvars_all file"
}

PLAY RECAP *****************************************************************************
db01                       : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
web01                      : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
web02                      : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


Here observe the output the webservers[ web01 and web02 ] variable are coming from group_vars/webserves
db01 is taking from group_vars/all 


ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ mkdir host_vars
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ vim host_vars/web02
ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ cat host_vars/web02
USRNM: web02user
COMM: variables from host_vars/web02 file

ubuntu@ip-172-31-34-26:~/vprofile-practice/exercise-09$ ansible-playbook var_precedence.yaml

observe the output


The priority will be 
command Line [This is rarely used and in genereally for testing ] >>>>> Playbook >>>>> Host Level[Mostly used ] >>>>> Group level [ Mostly used ] >>>>> all


Create a yaml file print_facts.yaml 
and some modification in the inventory file
first perform ansible -m setup all 
and select the facts you want to print out